# Terroform for AWS

## AWS Resource

- API-Gateway
- ALB
- Listener
- Target-Group
- ECS-Cluster
- Auto-Scaling
- EC2
- Container

## Service Architecture

```

                     +-------------------+
 https://xxx/{proxy} |    API-Gateway    |
-------------------->|       (ANY)       |
                     +-------------------+
                               |
  +----------------------------|---------------------------------------------------+
  | VPC                        |                                                   |
  |    +-----------------------|-----------------------------------------------+   |
  |    | Subnet                V                                               |   |
  |    |    +-----------------------+      +--------------------------------+  |   |
  |    |    |       ALB             |      | ECS-Cluster                    |  |   |
  |    |    | +-------------+       |      |    +------------------------+  |  |   |
  |    |    | | Listener: 80|       |      |    | Auto-Scaling           |  |  |   |
  |    |    | +-----|-------+       |      |    |  +-------------------+ |  |  |   |
  |    |    +-------|---------------+      |    |  | EC2[0]            | |  |  |   |
  |    |            V                      |    |  |  +------------+   | |  |  |   |
  |    |    +-----------------------+      |    |  |  | Container  |   | |  |  |   |
  |    |    |   Target-Group: 8080  |----->|    |  |  +------------+   | |  |  |   |
  |    |    +-----------------------+      |    |  +-------------------+ |  |  |   |
  |    |                                   |    |                        |  |  |   |
  |    |                                   |    |  +-------------------+ |  |  |   |
  |    |                                   |    |  | EC2[1]            | |  |  |   |
  |    |                                   |    |  |  +------------+   | |  |  |   |
  |    |                                   |    |  |  | Container  |   | |  |  |   |
  |    |                                   |    |  |  +------------+   | |  |  |   |
  |    |                                   |    |  +-------------------+ |  |  |   |
  |    |                                   |    |                        |  |  |   |
  |    |                                   |    +------------------------+  |  |   |
  |    |                                   |                                |  |   |
  |    |                                   +--------------------------------+  |   |
  |    +-----------------------------------------------------------------------+   |
  +--------------------------------------------------------------------------------+

```

